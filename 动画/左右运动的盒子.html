<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>左右运动的盒子1</title>
<style type="text/css">
*{margin:0;padding:0;}
#box{width:100px;height:100px;background:green;position:absolute;left:300px;top:0px;}
button{margin-top:200px;}
</style>
</head> 

<body>
  <div id="box"></div>

  <button id="left">left</button>
  <button id="right">right</button>
</body>
</html>
<script src="utils.js"></script>
<script>
  
   var obox=document.getElementById("box");
   var left=document.getElementById("left");
   var right=document.getElementById("right");
   var lMax=0;
   var rMax=document.documentElement.clientWidth-box.offsetWidth;

   function move(target){
     debugger;
      //获取当前的left值
      var eleLeft=utils.offset(obox).left;
     
         //说明向右走
         _move()
         function _move(){
           clearTimeout(obox.timer);
           var curleft=utils.offset(obox).left;
           if(target>eleLeft){
             if(curleft>=target){
                obox.style.left=target+"px";
                return;
              }
             var move=curleft+1
           }else if(target<eleLeft){
                if(curleft<=target){
                  obox.style.left=target+"px";
                  return;
                }
                var move=curleft-1
           }else{
             return;
           }
          obox.style.left=move+"px";
          obox.timer=window.setTimeout(_move,10)
         }
     
          
      
   }
    







   right.onclick=function(){
    move(600)
   }
   left.onclick=function(){
    move(0)
   }
</script>












 

 